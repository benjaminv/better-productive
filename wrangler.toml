name = "productive-search"
main = "src/index.js"
compatibility_date = "2024-01-01"

# KV namespace for storing tasks
[[kv_namespaces]]
binding = "TASKS_KV"
id = "41e90a11648d4124a4ceeb039aece31e"

# Cron triggers - runs every hour from 7am to 7pm AEDT, Mon-Fri
[triggers]
crons = [
  "0 20-23 * * SUN-THU", # Covers 7:00 AM – 10:00 AM AEDT (Mon-Fri)
  "0 0-8 * * MON-FRI"    # Covers 11:00 AM – 7:00 PM AEDT (Mon-Fri)
]

# Environment variables
[vars]
PRODUCTIVE_ORG_ID = "1476"
PRODUCTIVE_ORG_SLUG = "dotcollective"
PRODUCTIVE_PERSON_ID = "992100"  # Optional - auto-detected from API if not set

# Secrets (use: wrangler secret put PRODUCTIVE_API_TOKEN)
PRODUCTIVE_API_TOKEN = "085c53ec-d9d8-4136-919c-db587c246fcf"

# Import HTML and CSS files as text modules
[[rules]]
type = "Text"
globs = ["**/*.html", "**/*.css", "**/*.svg", "**/*.webmanifest"]

# Import binary files as data modules
[[rules]]
type = "Data"
globs = ["**/*.png", "**/*.ico"]
