name = "productive-search"
main = "src/index.js"
compatibility_date = "2024-01-01"

# KV namespace for storing tasks
[[kv_namespaces]]
binding = "TASKS_KV"
id = "41e90a11648d4124a4ceeb039aece31e" # Create with: wrangler kv namespace create TASKS_KV

# Cron triggers - runs every hour from 7am to 7pm AEDT, Mon-Fri
[triggers]
crons = [
  "0 20-23 * * SUN-THU", # Covers 7:00 AM – 10:00 AM AEDT (Mon-Fri)
  "0 0-8 * * MON-FRI"    # Covers 11:00 AM – 7:00 PM AEDT (Mon-Fri)
]

# Environment variables (all optional - auto-detected from API if not set)
# [vars]
# PRODUCTIVE_ORG_ID = "your_org_id"        # Auto-detected from API
# PRODUCTIVE_ORG_SLUG = "your-org-slug"    # Auto-detected from API  
# PRODUCTIVE_PERSON_ID = "your_person_id"  # Auto-detected from API

# Secrets are stored securely via: wrangler secret put PRODUCTIVE_API_TOKEN
# For local dev, create a .dev.vars file with: PRODUCTIVE_API_TOKEN=your_token

# Import HTML and CSS files as text modules
[[rules]]
type = "Text"
globs = ["**/*.html", "**/*.css", "**/*.svg", "**/*.webmanifest"]
fallthrough = false

# Import binary files as data modules
[[rules]]
type = "Data"
globs = ["**/*.png", "**/*.ico"]
fallthrough = false
