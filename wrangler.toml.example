# Productive.io Task Search - Cloudflare Worker Configuration
# Copy this file to wrangler.toml and fill in your values

name = "productive-search"
main = "src/index.js"
compatibility_date = "2024-01-01"

# KV namespace for storing tasks
# Create with: wrangler kv namespace create TASKS_KV
[[kv_namespaces]]
binding = "TASKS_KV"
id = "YOUR_KV_NAMESPACE_ID"

# Cron triggers - runs during business hours (adjust for your timezone)
[triggers]
crons = [
  "0 20-23 * * SUN-THU", # Covers 7:00 AM – 10:00 AM AEDT (Mon-Fri)
  "0 0-8 * * MON-FRI"    # Covers 11:00 AM – 7:00 PM AEDT (Mon-Fri)
]

# Environment variables (all optional - auto-detected from API if not set)
# [vars]
# PRODUCTIVE_ORG_ID = "your_org_id"        # Auto-detected from API
# PRODUCTIVE_ORG_SLUG = "your-org-slug"    # Auto-detected from API  
# PRODUCTIVE_PERSON_ID = "your_person_id"  # Auto-detected from API

# Secrets - set via: wrangler secret put PRODUCTIVE_API_TOKEN
# DO NOT put your API token in this file!

# Import HTML and CSS files as text modules
[[rules]]
type = "Text"
globs = ["**/*.html", "**/*.css", "**/*.svg", "**/*.webmanifest"]
fallthrough = false

# Import binary files as data modules
[[rules]]
type = "Data"
globs = ["**/*.png", "**/*.ico"]
fallthrough = false
